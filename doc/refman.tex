\documentclass[11pt,a4paper, oneside]{scrbook}
\usepackage[T1]{fontenc}
\usepackage{xspace}
\usepackage{listings}
\usepackage{amsmath,amssymb}
\usepackage{physics}
\usepackage{subcaption}
\usepackage{graphicx}
\usepackage{mdwlist}
\usepackage{changepage}
\usepackage{xcolor}
\usepackage[most]{tcolorbox}
\usepackage{bold-extra}
\usepackage{geometry}
\usepackage{longtable}
\usepackage{hyperref}

\renewcommand{\arraystretch}{1.25}

\addtokomafont{disposition}{\rmfamily}

\makeatletter
\renewcommand*{\chapterlinesformat}[3]{%
  \Ifstr{#1}{chapter}{%
    \rule[.3\baselineskip]{\linewidth}{1pt}\par\nobreak
  }{}%
  \@hangfrom{#2}{#3}%
  \Ifstr{#1}{chapter}{%
    \rule[.3\baselineskip]{\linewidth}{1pt}\par\nobreak
  }{}%
}
\renewcommand*{\chapterlineswithprefixformat}[3]{%
  \Ifstr{#1}{chapter}{%
    \rule[.3\baselineskip]{\linewidth}{1pt}\par\nobreak
  }{}%
  #2#3%
  \Ifstr{#1}{chapter}{%
    \rule[.3\baselineskip]{\linewidth}{1pt}\par\nobreak
  }{}%
}
\makeatother

\geometry{
   a4paper,
   left=20mm,
   top=20mm,
   bottom=30mm,
   top=25mm
}

\input lstform
\input lstolp

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{pykw}{
   belowcaptionskip=1\baselineskip,
   breaklines=true,
   xleftmargin=\parindent,
   language=python,
   showstringspaces=false,
   basicstyle=\small\ttfamily,
   columns=fullflexible,
   commentstyle=\color{codegreen},
   keywordstyle=\color{blue},
   numberstyle=\tiny\color{codegray},
   stringstyle=\color{codepurple},
   upquote=true
}

\lstdefinestyle{py}{
   belowcaptionskip=1\baselineskip,
   breaklines=true,
   xleftmargin=\parindent,
   language=python,
   showstringspaces=false,
   basicstyle=\small\ttfamily,
   columns=fullflexible,
   commentstyle=\color{codegreen},
   keywordstyle=,
   numberstyle=\tiny\color{codegray},
   stringstyle=\color{codepurple},
   upquote=true
}

\lstdefinestyle{form}{
   basicstyle=\small\ttfamily,
   columns=fullflexible,
   language=form,
   upquote=true
}

\lstdefinestyle{fortran}{
   basicstyle=\small\ttfamily,
   columns=fullflexible,
   language=fortran,
   upquote=true
}

\lstdefinestyle{C}{
   basicstyle=\small\ttfamily,
   columns=fullflexible,
   language=C,
   upquote=true
}

\lstdefinestyle{in}{
   basicstyle=\small\ttfamily,
   columns=fullflexible,
   upquote=true
}

\lstdefinestyle{sh}{
   basicstyle=\small\ttfamily,
   columns=fullflexible,
   language=bash,
   upquote=true,
   numbers=left,
   numberstyle=\small\ttfamily
}
\renewcommand*\thelstnumber{\$}

\newcommand{\gosamversion}{{3{.}0}}
\newcommand{\gosam}{\textsc{GoSam}\xspace}
\newcommand{\gosamv}[1][\gosamversion]{\textsc{GoSam}\xspace}
\newcommand{\golemVC}{\textsc{golem95C}\xspace}
\newcommand{\packagename}{{gosam-\gosamversion-<revision-hash>}}
\newcommand{\hepforge}{\textsc{HepForge}\xspace}

\newcommand{\qgraf}{\textsc{QGraf}\xspace}
\newcommand{\form}{\textsc{Form}\xspace}
\newcommand{\python}{Python\xspace}
\newcommand{\fortranXC}{Fortran~95\xspace}
\newcommand{\fortranMMIII}{Fortran~2003\xspace}
\newcommand{\pjfry}{\textsc{PJFry}\xspace}
\newcommand{\haggies}{\textsc{Haggies}\xspace}
\newcommand{\samurai}{\textsc{Samurai}\xspace}
\newcommand{\ninja}{\textsc{Ninja}\xspace}

\def\ket#1{|{#1}\rangle}
\def\bra#1{\langle{#1}|}
\def\N{\mathcal{N}}
\def\S{\mathcal{S}}
\def\A{\mathcal{A}}
\def\B{\mathcal{B}}
\def\M{\mathcal{M}}
\newcommand{\mrm}[1]{\mathrm{#1}}
\newcommand{\tHV}{{'t\,Hooft Veltman}}
\newcommand{\diff}[1][{}]{{\mathrm{d}}^{#1}\!}
\newcommand{\contl}{{\ensuremath{\hookrightarrow}}}
\newcommand{\fmslash}[1]{{#1}\!\!\!/}
\newcommand{\pslash}[1][{}]{\ensuremath{\fmslash{p}_{#1}}}
\newcommand{\kslash}[1][{}]{\ensuremath{\fmslash{k}_{#1}}}
\newcommand{\bea}{\begin{eqnarray*}}
\newcommand{\eea}{\end{eqnarray*}\noindent}
\newcommand{\be}{\begin{equation}}
\newcommand{\ee}{\end{equation}}
\newcommand{\bcen}{\begin{center}}
\newcommand{\ecen}{\end{center}}
\newcommand{\nn}{\nonumber}
\def\eps{\epsilon}

\newcommand{\attention}[1]{%
\begin{tcolorbox}[colback=red!5!white,colframe=red!60, title=Attention]
   #1
\end{tcolorbox}
}

\title{\textsc{GoSam}\,3.0 Manual}
\author{The GoSam Collaboration}
\date{Version \today}

\hypersetup{%
	pdfborder={0 0 0},%
	pdftitle={GoSam \gosamversion{} Manual},%
	pdfauthor={The GoSam Collaboration},%
	pdfsubject={High Energy Physics/Higher Order Corrections},%
	pdfkeywords={NLO, automatization},%
	%pdfdisplaydoctitle
}

\begin{document}

\maketitle
\tableofcontents


\chapter{Introduction}
%\section{Synopsis}
\gosamv is a program package for the automated generation and evaluation of one-loop amplitudes, within and beyond the Standard Model. As of version 2.0 \gosamv is also capable of generation spin- and colour correlated tree amplitudes. Previous versions of the code have been published in Ref.~\cite{Cullen:2011ac} (v1.0) and Ref.~\cite{Cullen:2014yla} (v2.0). The reference for the current version 3.0 is Ref.~\cite{GoSam3}. The program produces \fortranXC code for a given process
by generating Feynman diagrams and translating
the corresponding one-loop expressions into a form where the integrand
can be reduced and evaluated numerically with either
\ninja~\cite{Mastrolia:2012bu,vanDeurzen:2013saa,Peraro:2014cba}
or \golemVC~\cite{Golem95:2008,Cullen:2011kv,Guillet:2013msa}.
A file containing the pictorial representation of the diagrams along with other information 
about the process is also produced. 

\vspace*{3mm}

%\section{Conventions}
In this manual, shell commands 
(for the \texttt{bash} shell) are indicated
by lines starting with a dollar sign \texttt{\$}.
Lines that are broken for type setting reasons and should
continue the previous line(s) start with a \contl.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Download and installation}
\input{refman_sections/download_installation.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Setup of a process}
\label{chp:setup-of-a-process}
\input{refman_sections/setup.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Stability tests and rescue system}
\label{sec:rescue}
\input{refman_sections/rescue.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Electroweak corrections}
\input{refman_sections/electroweak.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Advanced diagram selection}
\input{refman_sections/filtering.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{The Binoth Les Houches Accord Interface}
\label{sec:blha}
\input{refman_sections/blha-guide.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{SMEFT and HEFT calculations with \gosam}
\label{sec:EFT}
\input{refman_sections/eft.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% APPENDIX APPENDIX APPENDIX APPENDIX APPENDIX APPENDIX APPENDIX %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\appendix
\input{refman_sections/appendix.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter*{Conditions of use}
    GoSam-1.0 -- An automated One-Loop matrix element generator.\\
    Copyright (C) 2011, 2012, 2013  The GoSam Collaboration\\
    Eur.Phys.J. C72 (2012) 1889, arXiv:1111.2034 [hep-ph].\\
    
    \textbf{GoSam-3.0}  \\
    Copyright (C) 2011--2025  The \gosam Collaboration
   \begin{itemize}         
      \setlength\itemsep{-0.5em}
      \item Jens Braun
      \item Benjamin Campillo Aveleira      
      \item Gudrun Heinrich                  
      \item Marius Hoefer
      \item Stephen Jones
      \item Matthias Kerner
      \item Jannis Lang
      \item Vitaly Magerya

   \end{itemize}

    Former members:
    \begin{itemize}
      \setlength\itemsep{-0.5em}
      \item Gavin Cullen
      \item Hans van Deurzen
      \item Nicolas Greiner
      \item Stephan Jahn
      \item Gionata Luisoni
      \item Pierpaolo Mastrolia
      \item Edoardo Mirabella
      \item Giovanni Ossola
		\item Tiziano Peraro
      \item Joscha Reichel
		\item Thomas Reiter
		\item Johannes Schlenk
		\item Ludovic Scyboz
		\item Johann Felix von Soden-Fraunhofen
      \item Francesco Tramontano
    \end{itemize}
   
%{The program is distributed under the 
% terms and conditions of the GNU General Public License Version 3}
    We are indebted to \textbf{Thomas Reiter} for his invaluable contributions 
    to the development of GoSam-1.0.\\
        GoSam-1.0 -- An automated One-Loop matrix element generator.\\
    Copyright (C) 2011, 2012, 2013  The GoSam Collaboration\\
    Eur.Phys.J. C72 (2012) 1889, arXiv:1111.2034 [hep-ph].

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details, 
    \url{http://www.gnu.org/licenses/}.

   
    Scientific publications prepared using the present version of
    \gosam or any modified version of it or any code linking to
    \gosam or parts of it should make a clear reference to the publications:

    \begin{itemize}
       \item  G. Cullen,  H. van Deurzen, N. Greiner, G. Heinrich, G. Luisoni, 
              P. Mastrolia, E. Mirabella, G. Ossola, T. Peraro, J. Schlenk, 
	      J.F.von Soden-Fraunhofen, F. Tramontano, \\
	``GoSam-2.0: a tool for automated one-loop calculations within the Standard Model and Beyond'',\\
	Eur.\ Phys.\ J.\ C \textbf{74} (2014) 8,  3001 [arXiv:1404.7096 [hep-ph]].
      \item   J.~Braun, B.~Campillo Aveleira, G.~Heinrich, M.~H\"ofer, S.P. Jones, M.~Kerner, J.~Lang, V.~Magerya, \\
        ``One-loop calculations in Effective Field Theories with GoSam-3.0'',\\
        arXiv:2507.xxxx.
     \end{itemize}




\bibliographystyle{JHEP}
\bibliography{refman}

\end{document}

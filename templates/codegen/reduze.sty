# ##############################################################################
#  Reduze:
#    A.v.Manteuffel
#    C.Studerus
#
#  QGRAF style-file to generate the diagrams in a YAML readable format
#
# ##############################################################################

<prologue>

#
# file generated by <program>
#

---
qgraf_globals:
  - "qgraf_version = <program>"
<command_loop><command_line_loop>  - "<command_data><back>"
<end><end>

#
# - external_legs / propagators: 2-element sequence
#       [[ [[in vertex, out vertex]], feynman_rule_id: [[field(s)]] ]]
#     a field has 6 entries:
#       [[particle name, field type, commutator sign, momentum, MASS,
<back> field index]]
#     where the field types are: 1=incoming, 2=outgoing, 3=internal
# - vertices: 1-element sequence
#       [[feynman_rule_id: [[fields]]
#
# - comments
#   * The momenta directions of the initial state particles are
#     incoming and the momenta of the final state particles are
#     outgoing.
#   * A Propagator has two fields: anti-particle and particle.
#     The direction of the momentum of the propagator (from-vertex
#     to to-vertex) is given by the momentum of the second field.
#     This is the same direction as the particle (charge) flow.
#   * The momenta of the fields around a vertex are all ingoing
#     to that vertex.
#

<diagram>
---
diagram:
  name: <diagram_index>
  external_legs:
  <back><back><back><in_loop>
    - [[ [[-<in_index>, <vertex_index>]], in-<field>:
<back> [[[[<field>, <field_type>, <field_sign>1, <momentum>, [MASS],
<back> <field_index>]]]] ]]<end>
  <back><back><back><out_loop>
    - [[ [[<vertex_index>, -<leg_index>]], out-<field>:
<back> [[[[<field>, <field_type>, <field_sign>1, <momentum>, [MASS],
<back> <field_index>]]]] ]]<end>
<back>
  propagators:
  <back><back><back><propagator_loop>
    - [[ [[<dual-vertex_index>, <vertex_index>]], <field>_<dual-field>:
<back> [[[[<dual-field>, <field_type>, <field_sign>1, <dual-momentum>, [MASS],
<back> <dual-field_index>]],
<back> [[<field>, <field_type>, <field_sign>1, <momentum>, [MASS],
<back> <field_index>]]]] ]]<end>
<back>
  vertices:
  <back><back><back><vertex_loop>
    - [[ <ray_loop><field>_<end><back>:
<back> [[<ray_loop>[[<field>, <field_type>, <field_sign>1, <momentum>,
<back> [MASS], <field_index>]], <end><back><back>]] ]]<end>
<back>
  symmetry_factor: <minus><symmetry_factor>
  num_legs_in: <legs_in>
  num_legs_out: <legs_out>
  num_loops: <loops>
  num_propagators: <propagators>
  num_vertices: <vertices>

<epilogue>
<exit>

# ##############################################################################
